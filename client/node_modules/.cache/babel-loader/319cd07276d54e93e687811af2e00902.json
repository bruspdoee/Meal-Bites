{"ast":null,"code":"'use strict';\n\nvar fs = require('fs');\n\nvar path = require('path');\n\nvar Sequelize = require('sequelize');\n\nvar basename = path.basename(module.filename);\nvar env = process.env.NODE_ENV || 'development';\n\nvar config = require(__dirname + '../../../config/config.js')[env];\n\nvar db = {};\n\nif (config.use_env_variable) {\n  var sequelize = new Sequelize(process.env[config.use_env_variable]);\n} else {\n  var sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(function (file) {\n  return file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js';\n}).forEach(function (file) {\n  var model = sequelize['import'](path.join(__dirname, file));\n  db[model.name] = model;\n});\nObject.keys(db).forEach(function (modelName) {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;","map":{"version":3,"sources":["/Users/jervisbay/project-tres/client/src/models/index.js"],"names":["fs","require","path","Sequelize","basename","module","filename","env","process","NODE_ENV","config","__dirname","db","use_env_variable","sequelize","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","name","Object","keys","modelName","associate","exports"],"mappings":"AAAA;;AAEA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIE,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAIG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,MAAM,CAACC,QAArB,CAAf;AACA,IAAIC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAAlC;;AACA,IAAIC,MAAM,GAAGT,OAAO,CAACU,SAAS,GAAG,2BAAb,CAAP,CAAiDJ,GAAjD,CAAb;;AACA,IAAIK,EAAE,GAAG,EAAT;;AAEA,IAAIF,MAAM,CAACG,gBAAX,EAA6B;AAC5B,MAAIC,SAAS,GAAG,IAAIX,SAAJ,CAAcK,OAAO,CAACD,GAAR,CAAYG,MAAM,CAACG,gBAAnB,CAAd,CAAhB;AACA,CAFD,MAEO;AACN,MAAIC,SAAS,GAAG,IAAIX,SAAJ,CACfO,MAAM,CAACK,QADQ,EAEfL,MAAM,CAACM,QAFQ,EAGfN,MAAM,CAACO,QAHQ,EAIfP,MAJe,CAAhB;AAMA;;AAEDV,EAAE,CAACkB,WAAH,CAAeP,SAAf,EACEQ,MADF,CACS,UAAUC,IAAV,EAAgB;AACvB,SAAOA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,IAAI,KAAKhB,QAApC,IAAgDgB,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAA1E;AACA,CAHF,EAIEC,OAJF,CAIU,UAAUH,IAAV,EAAgB;AACxB,MAAII,KAAK,GAAGV,SAAS,CAAC,QAAD,CAAT,CAAoBZ,IAAI,CAACuB,IAAL,CAAUd,SAAV,EAAqBS,IAArB,CAApB,CAAZ;AACAR,EAAAA,EAAE,CAACY,KAAK,CAACE,IAAP,CAAF,GAAiBF,KAAjB;AACA,CAPF;AASAG,MAAM,CAACC,IAAP,CAAYhB,EAAZ,EAAgBW,OAAhB,CAAwB,UAAUM,SAAV,EAAqB;AAC5C,MAAIjB,EAAE,CAACiB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;AAC5BlB,IAAAA,EAAE,CAACiB,SAAD,CAAF,CAAcC,SAAd,CAAwBlB,EAAxB;AACA;AACD,CAJD;AAMAA,EAAE,CAACE,SAAH,GAAeA,SAAf;AACAF,EAAE,CAACT,SAAH,GAAeA,SAAf;AAEAE,MAAM,CAAC0B,OAAP,GAAiBnB,EAAjB","sourcesContent":["'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\nvar Sequelize = require('sequelize');\nvar basename = path.basename(module.filename);\nvar env = process.env.NODE_ENV || 'development';\nvar config = require(__dirname + '../../../config/config.js')[env];\nvar db = {};\n\nif (config.use_env_variable) {\n\tvar sequelize = new Sequelize(process.env[config.use_env_variable]);\n} else {\n\tvar sequelize = new Sequelize(\n\t\tconfig.database,\n\t\tconfig.username,\n\t\tconfig.password,\n\t\tconfig\n\t);\n}\n\nfs.readdirSync(__dirname)\n\t.filter(function (file) {\n\t\treturn file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js';\n\t})\n\t.forEach(function (file) {\n\t\tvar model = sequelize['import'](path.join(__dirname, file));\n\t\tdb[model.name] = model;\n\t});\n\nObject.keys(db).forEach(function (modelName) {\n\tif (db[modelName].associate) {\n\t\tdb[modelName].associate(db);\n\t}\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"]},"metadata":{},"sourceType":"module"}