{"ast":null,"code":"import _defineProperty from \"/Users/jervisbay/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jervisbay/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jervisbay/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jervisbay/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jervisbay/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jervisbay/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jervisbay/project-tres/client/src/components/User/index.js\";\nimport React from \"react\";\nimport { postings as postingsAPI } from \"../../utils/API\"; // import { render } from \"react-dom\";\n\nvar User = /*#__PURE__*/function (_React$Component) {\n  _inherits(User, _React$Component);\n\n  function User(props) {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(User).call(this, props));\n    _this.state = {\n      userName: _this.props.user.userName,\n      donatedHistory: [],\n      donatedHistoryNumbers: []\n    };\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(this.state.userName + \" is mounted\");\n      postingsAPI.findDonations({\n        userName: this.state.userName\n      }).then(function (res) {\n        _this2.setState({\n          donatedHistory: res.data.map(function (donation) {\n            var donationTime = donation.createdAt[6] + \"/\" + donation.createdAt[8] + donation.createdAt[9] + \"/2020\";\n            return {\n              donatedItem: donation.donatedItem,\n              donatedItemCategory: donation.donatedItemCategory,\n              quantity: donation.quantity,\n              date: donationTime\n            };\n          })\n        });\n\n        console.log(_this2.state.donatedHistory);\n      }).catch(function (e) {\n        return console.log(e);\n      });\n      postingsAPI.findTotalDonationsNumber({\n        userName: this.state.userName\n      }).then(function (resp) {\n        console.log(resp.data);\n\n        _this2.setState({\n          donatedHistoryNumbers: resp.data.map(function (response) {\n            return _defineProperty({}, response.donatedItemCategory, response.total);\n          })\n        });\n\n        console.log(_this2.state.donatedHistoryNumbers);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }, this.state.userName, \", thanks for your donations!\"), /*#__PURE__*/React.createElement(\"h7\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, \"Member since 2020\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }, \"## Number of items donated ##\"), this.state.donatedHistoryNumbers.map(function (category) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }\n        }, Object.keys(category), \": \", Object.values(category)));\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, \"## Itemized History ##\"), this.state.donatedHistory.map(function (donatedItem) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }\n        }, donatedItem.quantity, \" \", donatedItem.donatedItem, \" on\", \" \", donatedItem.date));\n      }));\n    }\n  }]);\n\n  return User;\n}(React.Component);\n\nexport default User;","map":{"version":3,"sources":["/Users/jervisbay/project-tres/client/src/components/User/index.js"],"names":["React","postings","postingsAPI","User","props","state","userName","user","donatedHistory","donatedHistoryNumbers","console","log","findDonations","then","res","setState","data","map","donation","donationTime","createdAt","donatedItem","donatedItemCategory","quantity","date","catch","e","findTotalDonationsNumber","resp","response","total","error","category","Object","keys","values","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAQ,IAAIC,WAArB,QAAwC,iBAAxC,C,CACA;;IAEMC,I;;;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,MAAKF,KAAL,CAAWG,IAAX,CAAgBD,QADf;AAEXE,MAAAA,cAAc,EAAE,EAFL;AAGXC,MAAAA,qBAAqB,EAAE;AAHZ,KAAb;AAFiB;AAOlB;;;;wCAEmB;AAAA;;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWC,QAAX,GAAsB,aAAlC;AACAJ,MAAAA,WAAW,CACRU,aADH,CACiB;AACbN,QAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC;AADR,OADjB,EAIGO,IAJH,CAIQ,UAACC,GAAD,EAAS;AACb,QAAA,MAAI,CAACC,QAAL,CAAc;AACZP,UAAAA,cAAc,EAAEM,GAAG,CAACE,IAAJ,CAASC,GAAT,CAAa,UAACC,QAAD,EAAc;AACzC,gBAAMC,YAAY,GAChBD,QAAQ,CAACE,SAAT,CAAmB,CAAnB,IACA,GADA,GAEAF,QAAQ,CAACE,SAAT,CAAmB,CAAnB,CAFA,GAGAF,QAAQ,CAACE,SAAT,CAAmB,CAAnB,CAHA,GAIA,OALF;AAOA,mBAAO;AACLC,cAAAA,WAAW,EAAEH,QAAQ,CAACG,WADjB;AAELC,cAAAA,mBAAmB,EAAEJ,QAAQ,CAACI,mBAFzB;AAGLC,cAAAA,QAAQ,EAAEL,QAAQ,CAACK,QAHd;AAILC,cAAAA,IAAI,EAAEL;AAJD,aAAP;AAMD,WAde;AADJ,SAAd;;AAkBAT,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,CAACN,KAAL,CAAWG,cAAvB;AACD,OAxBH,EAyBGiB,KAzBH,CAyBS,UAACC,CAAD;AAAA,eAAOhB,OAAO,CAACC,GAAR,CAAYe,CAAZ,CAAP;AAAA,OAzBT;AA2BAxB,MAAAA,WAAW,CACRyB,wBADH,CAC4B;AACxBrB,QAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC;AADG,OAD5B,EAIGO,IAJH,CAIQ,UAACe,IAAD,EAAU;AACdlB,QAAAA,OAAO,CAACC,GAAR,CAAYiB,IAAI,CAACZ,IAAjB;;AACA,QAAA,MAAI,CAACD,QAAL,CAAc;AACZN,UAAAA,qBAAqB,EAAEmB,IAAI,CAACZ,IAAL,CAAUC,GAAV,CAAc,UAACY,QAAD,EAAc;AACjD,uCACGA,QAAQ,CAACP,mBADZ,EACkCO,QAAQ,CAACC,KAD3C;AAGD,WAJsB;AADX,SAAd;;AAQApB,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,CAACN,KAAL,CAAWI,qBAAvB;AACD,OAfH,EAiBGgB,KAjBH,CAiBS,UAACM,KAAD,EAAW;AAChBrB,QAAAA,OAAO,CAACC,GAAR,CAAYoB,KAAZ;AACD,OAnBH;AAoBD;;;6BAEQ;AAAA;;AACP,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAK1B,KAAL,CAAWC,QAAhB,iCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCALF,EAMG,KAAKD,KAAL,CAAWI,qBAAX,CAAiCQ,GAAjC,CAAqC,UAACe,QAAD;AAAA,4BACpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIC,MAAM,CAACC,IAAP,CAAYF,QAAZ,CAAJ,QAA6BC,MAAM,CAACE,MAAP,CAAcH,QAAd,CAA7B,CADF,CADoC;AAAA,OAArC,CANH,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,eAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAfF,EAgBG,KAAK3B,KAAL,CAAWG,cAAX,CAA0BS,GAA1B,CAA8B,UAACI,WAAD;AAAA,4BAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGA,WAAW,CAACE,QADf,OAC0BF,WAAW,CAACA,WADtC,SACsD,GADtD,EAEGA,WAAW,CAACG,IAFf,CADF,CAD6B;AAAA,OAA9B,CAhBH,CADF;AA2BD;;;;EAzFgBxB,KAAK,CAACoC,S;;AA4FzB,eAAejC,IAAf","sourcesContent":["import React from \"react\";\nimport { postings as postingsAPI } from \"../../utils/API\";\n// import { render } from \"react-dom\";\n\nclass User extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userName: this.props.user.userName,\n      donatedHistory: [],\n      donatedHistoryNumbers: [],\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.state.userName + \" is mounted\");\n    postingsAPI\n      .findDonations({\n        userName: this.state.userName,\n      })\n      .then((res) => {\n        this.setState({\n          donatedHistory: res.data.map((donation) => {\n            const donationTime =\n              donation.createdAt[6] +\n              \"/\" +\n              donation.createdAt[8] +\n              donation.createdAt[9] +\n              \"/2020\";\n\n            return {\n              donatedItem: donation.donatedItem,\n              donatedItemCategory: donation.donatedItemCategory,\n              quantity: donation.quantity,\n              date: donationTime,\n            };\n          }),\n        });\n\n        console.log(this.state.donatedHistory);\n      })\n      .catch((e) => console.log(e));\n\n    postingsAPI\n      .findTotalDonationsNumber({\n        userName: this.state.userName,\n      })\n      .then((resp) => {\n        console.log(resp.data);\n        this.setState({\n          donatedHistoryNumbers: resp.data.map((response) => {\n            return {\n              [response.donatedItemCategory]: response.total,\n            };\n          }),\n        });\n\n        console.log(this.state.donatedHistoryNumbers);\n      })\n\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <h3>{this.state.userName}, thanks for your donations!</h3>\n        <h7>Member since 2020</h7>\n        <br />\n        <br />\n        <h4>## Number of items donated ##</h4>\n        {this.state.donatedHistoryNumbers.map((category) => (\n          <div>\n            <p>{Object.keys(category)}: {Object.values(category)}</p>\n          </div>\n        ))}\n\n        <br />\n        <br />\n\n        <h4>## Itemized History ##</h4>\n        {this.state.donatedHistory.map((donatedItem) => (\n          <div>\n            <p>\n              {donatedItem.quantity} {donatedItem.donatedItem} on{\" \"}\n              {donatedItem.date}\n            </p>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default User;\n"]},"metadata":{},"sourceType":"module"}