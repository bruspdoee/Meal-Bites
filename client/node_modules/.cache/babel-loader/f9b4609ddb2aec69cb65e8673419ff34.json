{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"/Users/jervisbay/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/jervisbay/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar Promise = require('../../promise');\n\nvar ResourceLock = /*#__PURE__*/function () {\n  function ResourceLock(resource) {\n    _classCallCheck(this, ResourceLock);\n\n    this.resource = resource;\n    this.previous = Promise.resolve(resource);\n  }\n\n  _createClass(ResourceLock, [{\n    key: \"unwrap\",\n    value: function unwrap() {\n      return this.resource;\n    }\n  }, {\n    key: \"lock\",\n    value: function lock() {\n      var lock = this.previous;\n      var resolve;\n      this.previous = new Promise(function (r) {\n        resolve = r;\n      });\n      return lock.disposer(resolve);\n    }\n  }]);\n\n  return ResourceLock;\n}();\n\nmodule.exports = ResourceLock;","map":null,"metadata":{},"sourceType":"script"}