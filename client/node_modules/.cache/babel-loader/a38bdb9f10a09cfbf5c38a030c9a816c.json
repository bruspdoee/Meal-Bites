{"ast":null,"code":"import _defineProperty from \"/Users/brusp/Documents/projects/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/brusp/Documents/projects/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/brusp/Documents/projects/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/brusp/Documents/projects/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/brusp/Documents/projects/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/brusp/Documents/projects/project-tres/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/brusp/Documents/projects/project-tres/client/src/components/User/index.js\";\nimport React from \"react\";\nimport { postings as postingsAPI } from \"../../utils/API\"; // import { render } from \"react-dom\";\n\nvar User = /*#__PURE__*/function (_React$Component) {\n  _inherits(User, _React$Component);\n\n  function User(props) {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(User).call(this, props));\n    _this.state = {\n      userName: _this.props.user.userName,\n      donor: _this.props.user.donor,\n      foodbanker: _this.props.user.foodbanker,\n      donatedHistory: [],\n      donatedHistoryNumbers: []\n    };\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(this.state.userName + \" is mounted\");\n      postingsAPI.findDonations({\n        userName: this.state.userName\n      }).then(function (res) {\n        _this2.setState({\n          donatedHistory: res.data.map(function (donation) {\n            var donationTime = donation.createdAt[6] + \"/\" + donation.createdAt[8] + donation.createdAt[9] + \"/2020\";\n            return {\n              donatedItem: donation.donatedItem,\n              donatedItemCategory: donation.donatedItemCategory,\n              quantity: donation.quantity,\n              date: donationTime\n            };\n          })\n        });\n\n        console.log(_this2.state.donatedHistory);\n      }).catch(function (e) {\n        return console.log(e);\n      });\n      postingsAPI.findTotalDonationsNumber({\n        userName: this.state.userName\n      }).then(function (resp) {\n        console.log(resp.data);\n\n        _this2.setState({\n          donatedHistoryNumbers: resp.data.map(function (response) {\n            return _defineProperty({}, response.donatedItemCategory.charAt(0).toUpperCase() + response.donatedItemCategory.slice(1), response.total);\n          })\n        });\n\n        console.log(_this2.state.donatedHistoryNumbers);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.donor === \"Yes\") {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          class: \"user-profile-container fixed-width\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          class: \"h2 border-accent\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }\n        }, this.state.userName, \", thanks for your donations!\"), /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }\n        }, \"Member since 2020\"), /*#__PURE__*/React.createElement(\"h4\", {\n          class: \"h3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }\n        }, \"Number of items donated\"), this.state.donatedHistoryNumbers.map(function (category) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"p\", {\n            class: \"donated-items\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }\n          }, Object.keys(category), \": \", Object.values(category)));\n        }), /*#__PURE__*/React.createElement(\"h4\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }\n        }, \"Itemized History\"), this.state.donatedHistory.map(function (donatedItem) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"p\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }\n          }, donatedItem.quantity, \" \", donatedItem.donatedItem, \" on\", \" \", donatedItem.date));\n        }));\n      } else if (this.state.foodbanker === \"Yes\") ;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"user-profile-container fixed-width\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        class: \"h2 border-accent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }, \"Welcome Back \", this.state.userName, \", thank you for being our partner!\"), /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }, \"Partners since 2020\"), \"))\", /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }\n      }, \"Recently Claimed Items \"), this.state.donatedHistory.map(function (donatedItem) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }\n        }, donatedItem.quantity, \" \", donatedItem.donatedItem, \" on\", \" \", donatedItem.date));\n      }));\n    }\n  }]);\n\n  return User;\n}(React.Component);\n\nexport default User;","map":{"version":3,"sources":["/Users/brusp/Documents/projects/project-tres/client/src/components/User/index.js"],"names":["React","postings","postingsAPI","User","props","state","userName","user","donor","foodbanker","donatedHistory","donatedHistoryNumbers","console","log","findDonations","then","res","setState","data","map","donation","donationTime","createdAt","donatedItem","donatedItemCategory","quantity","date","catch","e","findTotalDonationsNumber","resp","response","charAt","toUpperCase","slice","total","error","category","Object","keys","values","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { postings as postingsAPI } from \"../../utils/API\";\n// import { render } from \"react-dom\";\n\nclass User extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userName: this.props.user.userName,\n      donor: this.props.user.donor,\n      foodbanker: this.props.user.foodbanker,\n      donatedHistory: [],\n      donatedHistoryNumbers: [],\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.state.userName + \" is mounted\");\n    postingsAPI\n      .findDonations({\n        userName: this.state.userName,\n      })\n      .then((res) => {\n        this.setState({\n          donatedHistory: res.data.map((donation) => {\n            const donationTime =\n              donation.createdAt[6] +\n              \"/\" +\n              donation.createdAt[8] +\n              donation.createdAt[9] +\n              \"/2020\";\n\n            return {\n              donatedItem: donation.donatedItem,\n              donatedItemCategory: donation.donatedItemCategory,\n              quantity: donation.quantity,\n              date: donationTime,\n            };\n          }),\n        });\n\n        console.log(this.state.donatedHistory);\n      })\n      .catch((e) => console.log(e));\n\n    postingsAPI\n      .findTotalDonationsNumber({\n        userName: this.state.userName,\n      })\n      .then((resp) => {\n        console.log(resp.data);\n        this.setState({\n          donatedHistoryNumbers: resp.data.map((response) => {\n            return {\n              [response.donatedItemCategory.charAt(0).toUpperCase() +\n              response.donatedItemCategory.slice(1)]: response.total,\n            };\n          }),\n        });\n\n        console.log(this.state.donatedHistoryNumbers);\n      })\n\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  render() {\n    if (this.state.donor === \"Yes\") {\n      return (\n        <div class=\"user-profile-container fixed-width\">\n          <h3 class=\"h2 border-accent\">\n            {this.state.userName}, thanks for your donations!\n          </h3>\n          <h5>Member since 2020</h5>\n          <h4 class=\"h3\">Number of items donated</h4>\n          {this.state.donatedHistoryNumbers.map((category) => (\n            <div>\n              <p class=\"donated-items\">\n                {Object.keys(category)}: {Object.values(category)}\n              </p>\n            </div>\n          ))}\n\n          <h4>Itemized History</h4>\n          {this.state.donatedHistory.map((donatedItem) => (\n            <div>\n              <p>\n                {donatedItem.quantity} {donatedItem.donatedItem} on{\" \"}\n                {donatedItem.date}\n              </p>\n            </div>\n          ))}\n        </div>\n      );\n    } else if (this.state.foodbanker === \"Yes\");\n    return (\n      <div class=\"user-profile-container fixed-width\">\n        <h3 class=\"h2 border-accent\">\n          Welcome Back {this.state.userName}, thank you for being our partner!\n        </h3>\n        <h5>Partners since 2020</h5>\n        ))\n        <h4>Recently Claimed Items </h4>\n        {this.state.donatedHistory.map((donatedItem) => (\n          <div>\n            <p>\n              {donatedItem.quantity} {donatedItem.donatedItem} on{\" \"}\n              {donatedItem.date}\n            </p>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default User;\n"]},"metadata":{},"sourceType":"module"}