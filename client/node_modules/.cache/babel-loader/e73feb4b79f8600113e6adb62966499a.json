{"ast":null,"code":"'use strict';\n\nvar lead = require('lead');\n\nvar pumpify = require('pumpify');\n\nvar mkdirpStream = require('fs-mkdirp-stream');\n\nvar createResolver = require('resolve-options');\n\nvar config = require('./options');\n\nvar prepare = require('./prepare');\n\nvar sourcemap = require('./sourcemap');\n\nvar writeContents = require('./write-contents');\n\nvar folderConfig = {\n  outFolder: {\n    type: 'string'\n  }\n};\n\nfunction dest(outFolder, opt) {\n  if (!outFolder) {\n    throw new Error('Invalid dest() folder argument.' + ' Please specify a non-empty string or a function.');\n  }\n\n  var optResolver = createResolver(config, opt);\n  var folderResolver = createResolver(folderConfig, {\n    outFolder: outFolder\n  });\n\n  function dirpath(file, callback) {\n    var dirMode = optResolver.resolve('dirMode', file);\n    callback(null, file.dirname, dirMode);\n  }\n\n  var saveStream = pumpify.obj(prepare(folderResolver, optResolver), sourcemap(optResolver), mkdirpStream.obj(dirpath), writeContents(optResolver)); // Sink the output stream to start flowing\n\n  return lead(saveStream);\n}\n\nmodule.exports = dest;","map":null,"metadata":{},"sourceType":"script"}