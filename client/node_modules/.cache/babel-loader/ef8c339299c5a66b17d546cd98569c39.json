{"ast":null,"code":"var Writable = require('stream').Writable;\n\nvar inherits = require('util').inherits;\n\nmodule.exports = resumer;\n\nfunction resumer(stream) {\n  if (!stream.readable) {\n    return stream;\n  }\n\n  if (stream._read) {\n    stream.pipe(new Sink());\n    return stream;\n  }\n\n  if (typeof stream.resume === 'function') {\n    stream.resume();\n    return stream;\n  }\n\n  return stream;\n}\n\nfunction Sink() {\n  Writable.call(this, {\n    objectMode: true\n  });\n}\n\ninherits(Sink, Writable);\n\nSink.prototype._write = function (chunk, encoding, cb) {\n  setImmediate(cb);\n};","map":null,"metadata":{},"sourceType":"script"}